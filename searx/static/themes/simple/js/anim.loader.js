document.addEventListener("DOMContentLoaded",async()=>{const o=document.querySelector("form#search"),a=document.getElementById("loading_overlay"),s=document.getElementById("loading_text");let r={},n=0,e=null;if(!(!o||!a)){try{r=await(await fetch("/engines.json")).json()}catch(t){console.error("Error engines.json not fetched",t),r={}}o.addEventListener("submit",()=>{const t=new FormData(o);if(t.get("q")!=""){const l=t.get("categories")||t.get("category_general")||"",c=l==="1"||l==="general"?"web":l||"web";a.style.display="flex",n=0;const i=r[c]||["the web"];e=setInterval(()=>{n<i.length?(s.textContent=`Searching on ${i[n]}...`,n++):(s.textContent=`Finalizing the ${c} search...`,clearInterval(e),e=null)},500)}}),window.addEventListener("pageshow",()=>{e&&(clearInterval(e),e=null),a.style.display="none"})}});
//# sourceMappingURL=anim.loader.js.map
